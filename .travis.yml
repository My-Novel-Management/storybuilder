language: python

python:
    - 3.7

cache: pip

install:
    - pip install coveralls
    - pip install python-dateutil
    - pip install mecab-python3

script:
    - coverage run --parallel-mode --rcfile=.coveragerc setup.py test
    - coverage run --parallel-mode --rcfile=.coveragerc examples/momotaro/main.py --forcemecab --rubi
    - coverage run --parallel-mode --rcfile=.coveragerc examples/momotaro/main.py --forcemecab --part="0:1"
    - coverage run --parallel-mode --rcfile=.coveragerc examples/momotaro/main.py --forcemecab --text --plot --data --rubi

after_success:
    - coverage combine
    - coveralls
